% How To Use
% soi
% 2021/02/08

[View Online](https://github.com/soi013/FileRenamerDiff/blob/master/src/FileRenamerDiff/HowToUse/how_to_use.ru.md)

# Краткие инструкции

1. Определить целевой файл: Вы можете перетащить файлы в список файлов или выполнить <kbd>Поиск файлов</kbd> в определенном каталоге.
2. Установить шаблон переименования: Установите шаблон "Удалить/Заменить" в разделе <kbd>Настройки</kbd>.
3. Подтвердить переименование: Выполните <kbd>Просмотр</kbd>, чтобы подтвердить переименование.
4. Выполнить переименование: Выполните <kbd>Сохранить</kbd>, чтобы фактически переименовать файл.

# Определить целевой файл

Вы можете определить целевой файл для переименования двумя способами: "Поиском файла" или "Прямой спецификацией".

Чтобы удалить файл из списка целевых файлов, нажмите кнопку в левой части строки. Вы также можете опустошить список файлов, нажав на левую верхнюю кнопку.

## Поиск файлов

Ищите файлы в любой папке и добавляйте их в список целевых файлов.

Существует три способа поиска файлов.

- Нажмите значок папки в левом верхнем углу и выберите файлы с помощью диалогового окна.
- Перетащите папку в путь к папке в левом верхнем углу.
- Непосредственно введите путь к папке в левом верхнем углу и нажмите кнопку <kbd>Поиск файлов</kbd>.

Вы можете указать условия поиска файлов в разделе <kbd>Настройки</kbd> > <kbd>Поиск файлов</kbd>.

## Непосредственно указать файл

Непосредственно укажите файлы для переименования.

Есть два способа указать напрямую.

- Выберите файл в разделе <kbd>Добавить файлы</kbd> в верхней части с помощью диалогового окна.
- Перетащите файл в список файлов.

# Установить переименование

Укажите условия переименования файлов.

Порядок выполнения условий - "Удалить" → "Заменить". Если вы хотите удалить файл после "Заменить", оставьте <kbd>После замещения</kbd> пустым в <kbd>Модели замещения</kbd>, что то же самое, что и "Удалить".

## Удалить символы

Укажите символы, которые необходимо удалить.

 <kbd>Добавить</kbd> добавляет новую строку. Вы можете удалить строку, нажав на кнопку с правой стороны. Чтобы изменить порядок следования строк, возьмитесь за левый край строки и перетащите ее.

Вы можете выбрать "Common Pattern", нажав на нижнюю правую кнопку.

Если установлен флажок в "Регулярное выражение", можно указать слова, которые будут удаляться с помощью регулярного выражения.

### Регулярное выражение

Регулярные выражения (Regex) в этом программном обеспечении используют регулярные выражения "Microsoft .NET". Ниже приведен список типичных. Для более подробного объяснения, пожалуйста, обратитесь к следующим ссылкам.

[Regex Quick Reference - Microsoft Docs](https://docs.microsoft.com/dotnet/standard/base-types/regular-expression-language-quick-reference#character-escapes)

| Regex              | описание                                                     | шаблон    | Вход                      | Выход    |
| ------------------ | ------------------------------------------------------------ | --------- | ------------------------- | -------- |
| `[`ch_group`]`     | Любая буква в *ch_group*.                                    | [ae]      | Gr**a**y,S**ea**,Gr**ee**n | Gry,S,Grn   |
| `[`first`-`last`]` | Диапазон букв: Любая буква в диапазоне от *first* до *last*. | [A-Z]     | **R**ocky4                | ocky4    |
| `.`                | Уайлдкард: любая буква                                       | a.e       | w**ate**r                 | wr       |
| `\w`               | Любая буква, используемая в слове                            | \\w       | **A**.**a** **あ**~**ä**- | . ~-     |
| `\s`               | Пробел-буква                                                 | \\s       | A B　C                    | ABC      |
| `\d`               | Цифры                                                        | \\d       | Rocky**4**                | Rocky    |
| `^`                | Начало имени файла                                           | ^r        | **r**ear rock             | ear rock |
| `$`                | Конец имени файла                                            | r$        | rock rea**r**             | rock rea |
| `*`                | Совпадает с предыдущим элементом ноль или более раз.         | o*r       | d**oor**,**or**,o,l**r**  | d,,o,l   |
| `+`                | Совпадает с предыдущим элементом один или несколько раз.     | o+r       | d**oor**,**or**,o,lr      | d,,o,lr  |
| `?`                | Совпадает с предыдущим элементом ноль или один раз.          | o?r       | do**or**,**or**,o,l**r**  | do,,o,l  |
| `{`n`}`            | Совпадает с предыдущим элементом ровно *n* раз.              | [or]{2}   | d**oo**r,**or**,o,lr      | dr,,o,lr |
| `\`escape          | Распознает escape-символы типа `.`и `*`, как обычные символы. | \\d\\.\\d | 1\_**2\.3**\_45           | 1__45    |

## Модели замещения

Определить шаблоны до и после замены.

<kbd>Добавить</kbd> добавит новую строку. Вы можете удалить строку, нажав правую кнопку в строке. Чтобы изменить порядок следования строк, возьмитесь за левый край строки и перетащите ее.

Вы можете выбрать "Common Pattern", нажав на правую нижнюю кнопку.

Если установлен флажок в <kbd>Регулярное выражение</kbd>, то можно указать модели замещения, используя регулярное выражение.

### Регулярное выражение

Регулярное выражение перед заменой такое же, как и <kbd>Удалить символы</kbd>.

Также существует регулярное выражение, которое может быть использовано после замены. Некоторые из наиболее распространенных выражений перечислены ниже. Для более подробного объяснения, пожалуйста, обратитесь к следующим ссылкам.

[Substitutions In Regular Expressions - Microsoft Docs](https://docs.microsoft.com/dotnet/standard/base-types/substitutions-in-regular-expressions)

| Regex  | описание                                                     | Текст цели      | После замещения | **Вход**       | Выход              |
| ------ | ------------------------------------------------------------ | --------------- | --------------- | -------------- | ------------------ |
| ` $0 `   | Включить весь совпадающий ряд символов в замененный ряд символов | ABC             | X$0X  | abc **ABC** AnBC | abc **XABCX** AnBC |
| ` $num ` | Включить в замененный ряд символов последнюю подстроку, соответствующую захватывающей группе, идентифицируемой *num*. | \\d\*\(\\d{3}\) | \$1             | A**0012** 34   | A**012** 34        |

### FileRenamerDiff Original Regex

Это уникальное для данного приложения регулярное выражение, которое не встречается в "Microsoft .NET".

| Regex | описание                                                     | Вход                   | Выход                      |
| ----- | ------------------------------------------------------------ | ---------------------- | -------------------------- |
| `\u`  | Конвертировать весь текст в верхний регистр                  | l**ow** UPP P**as**    | L**OW** UPP P**AS**        |
| `\l`  | Конвертировать весь текст в нижний регистр                   | low **UPP** **P**as    | low **upp** **p**as        |
| `\h`  | Преобразовать все Английские буквы и цифры в символы полуширины | Ha14 **Ｆｕ１７**      | Ha14 **Fu17**              |
| `\f`  | Преобразовать все Английские буквы и цифры в символы полной ширины | **Ha14** Ｆｕ１７      | **Ｈａ１４** Ｆｕ１７      |
| `\f`  | Преобразовать все буквы "Катакана" полуширины в полную ширину | **ｱﾝﾊﾟﾝ ﾊﾞｲｷﾝ**        | **アンパン バイキン**      |
| `\n`  | Преобразовать умляуты в английские буквы ASCII               | s**üß** **Ö**L **Ä**ra | s**uess** **OE**L **Ae**ra |

### Добавить специальные символы

Вы можете добавить специальные символы, указав символы в <kbd>После замещения</kbd> в <kbd>Модели замещения</kbd>.

| После замещения | описание                                 | Вход                  | Выход                     |
| ---- | ------------------------------------ | ---------------------- | -------------------------- |
| `$d` | Добавьте имя каталога                    | _abc.txt               | **ParentDir**_abc.txt      |
| `$t` | Добавить Дата изменения                   | _abc.txt               | **2018-03-14**_abc.txt      |
| `$t<yy-MM-dd HH-mm-ss>` | Добавить Дата изменения с форматом                    | _abc.txt               | **18-03-14 18-58-59**_abc.txt      |
| `$t<D>` | Änderungsdatum im lokalen Format hinzufügen                     | _abc.txt               | **среда, 14 марта 2018 г.**_abc.txt      |
| `$t<,c>` | Добавить Дата создания                     | _abc.txt               | **1942-01-08**_abc.txt      |
| `$t<yy-MM-dd HH-mm-ss,c>` | Добавить Дата создания с форматом                    | _abc.txt               | **42-01-08 14-58-59**_abc.txt |
| `$n`                      | Добавление серийных номеров         | _a.txt<br />_b.txt<br />_c.txt | **1**_a.txt<br />**2**_b.txt<br />**3**_c.txt                        |
| `$n<0,10,000>`                      | Добавить серийные номера, указав стартовый номер, шаг и нулевая прокладка цифр | _a.txt<br />_b.txt<br />_c.txt | **000**_a.txt<br />**010**_b.txt<br />**020**_c.txt                      |

### Диалог добавления серийных номеров

Настройка серийных номеров сложна, поэтому имеется диалог настроек.

Вы можете изменить следующие настройки и проверить их в списке образцов файлов.

- Позиция вставки
- Стартовый номер
- Шаг
- Нулевая прокладка цифр
- Сброс в папку
- Инверсия
- Префиксный текст
- Постфиксный текст

Наконец, вы можете добавить в <kbd>Модели замещения</kbd> с помощью <kbd>Добавить</kbd>.

# Rename confirmation

 <kbd>DRY RUN</kbd> allows you to see the files before and after they are renamed.

The description of each column in the file list is as follows.

| Column name         | Displayed contents                                           | Function                                                     |
| ------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| Delete button       | Delete button                                                | Delete the line. The button in the header deletes all files. |
| OLD File Name       | File name before renaming. The changed part becomes a pink background. |                                                              |
| NEW File Name       | File name after renaming. The changed part becomes a green background. |                                                              |
| Mark with change    | A check mark is displayed if there are any changes.          | The button in the header makes the file list only with changes. |
| Mark with duplicate | If there are duplicates, a duplicate mark is displayed.      | The button in the header makes the file list only with duplicates. |
| File type mark      | The file type is indicated by an icon.                       |                                                              |
| Directory           | Directory to which the file belongs                          | Click to display the file in the explorer                    |
| Size                | Size of the file                                             |                                                              |
| Date modified       | Date and time of file modification                           |                                                              |
| Created Date        | Date and time of file creation                               |                                                              |

# Подтвердить переименования

 <kbd>просмотр</kbd> позволяет просматривать файлы до и после их переименования.

Описание каждой колонки в списке файлов следующее.

| Название колонки        | Отображаемое содержимое                                      | Функция                                                      |
| ----------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| Кнопка удаления         | Кнопка удаления                                              | Удалить строку. Кнопка в заголовке удаляет все файлы.        |
| Старое имя файла        | Имя файла до переименования. Фон изменяемой части розовый.   |                                                              |
| Новое имя файла         | Имя файла после переименования. Фон измененной части зеленый. |                                                              |
| Знак наличия изменений  | При наличии изменений отображается флажок.                   | Нажав кнопку в заголовке, можно отобразить список файлов только с изменениями. |
| Знак наличия дубликатов | Если дубликаты есть, то отображается знак дубликата.         | Нажав кнопку в заголовке, можно отобразить список файлов только с дубликатами. |
| Тип файла | Тип файла обозначается значком. |                        |
| Каталог                 | Каталог, к которому принадлежит файл                         | Нажмите, чтобы отобразить файл в Проводнике.                 |
| Размер                  | Размер файла                                                 |                                                              |
| Дата изменения          | Дата и время изменения файла                                 |                                                              |
| Дата создания           | Дата и время создания файла                                  |                                                              |

# Сохранить переименование

<kbd>Сохранить</kbd> сохраняет действительное имя файла. Невозможно выполнить сохранение, если в списке файлов есть дубликаты.

Если при переименовании каталог, к которому принадлежит файл, будет перезаписан, то он будет удален из списка файлов.
