% How To Use
% soi
% 2021/02/08

[View Online](https://github.com/soi013/FileRenamerDiff/blob/master/src/FileRenamerDiff/HowToUse/how_to_use.zh.md)

# 快速手册

1. 目标文件规格: 您可以在这里拖放文件，或者从特定目录中 <kbd>檔案搜尋</kbd>。

2. 设置重命名模式: 从 <kbd>设置</kbd>中设置删除/替换模式。

3. 确认重命名: 执行 <kbd>試執行</kbd>，确认重命名。

4. 执行 "重命名": 执行 <kbd>保存重命名</kbd>来重命名实际文件。

# 指定目标文件

您可以通过两种方式指定要重命名的目标文件。"文件搜索 "或 "直接指定"。

要从目标文件列表中删除文件，请点击行左侧的按钮。您也可以通过点击左上方的按钮清空文件列表。

## 文件搜索

搜索任意文件夹中的文件，并将其添加到目标文件列表中。

有三种方法可以搜索文件。

- 使用对话框从左上角的文件夹图标中选择。
- 拖动文件夹到左上角的文件夹路径。
- 直接输入左上角的文件夹路径，按<kbd>搜索文件</kbd>按钮。

您可以在<kbd>设置</kbd>><kbd>檔案搜尋</kbd>中指定文件搜索的条件。

## 直接指定

直接指定要重命名的文件。

有两种方法可以直接指定。

- 使用上面的<kbd>添加文件</kbd>对话框选择文件。
- 将文件拖到文件列表中。

# 重命名设置

指定文件重命名的条件。

条件的执行顺序为 "删除"→"替换"。如果要删除 "替换 "后的文件，则在<kbd>替换模式</kbd>中留空<kbd>替换文本</kbd>，与 "删除 "相同。

## 删除文本

指定要删除的字符。

 <kbd>新增</kbd>添加新行。您可以通过单击行右侧的按钮来删除行。要改变行的顺序，可抓住行的左边缘并拖动。

您可以通过点击右下角的按钮来选择 "普通模式"。

如果勾选 "Common Pattern "复选框，则可以使用正则表达式指定要删除的字符。

### 規則運算式

本软件的規則運算式(Regex)使用 "Microsoft .NET "的規則運算式。以下是典型的正则表达式。详细的说明，请参考以下链接。

[Regex Quick Reference - Microsoft Docs ](https://docs.microsoft.com/dotnet/standard/base-types/regular-expression-language-quick-reference#character-escapes)

| Regex              | 描述                                                  | 模式      | 输入                      | 输出      |
| ------------------ | ----------------------------------------------------- | --------- | ------------------------- | --------- |
| `[`ch_group`]`     | 匹配*ch_group*中的任何一个字符。                      | [ae]      | Gr**a**y,S**ea**,Gr**ee**n    | Gry,S,Grn    |
| `[`first`-`last`]` | 字符范围。匹配从*first*到*last*范围内的任何一个字符。 | [A-Z]     | **R**ocky4                | ocky4     |
| `.`                | 通配符。匹配任何一个字符。                            | a.e       | w**ate**r                 | wr        |
| `\w`               | 匹配任何文字字符。                                    | \\w       | **A**.**a** **あ**~**ä**- | . ~-      |
| `\s`               | 匹配任何空格字符。                                    | \\s       | A B　C                    | ABC       |
| `\d`               | 匹配任何小数位。                                      | \\d       | Rocky**4**                | Rocky     |
| `^`                | 匹配必须从文件名的开头开始。                          | ^r        | **r**ear rock             | ear rock  |
| `$`                | 匹配必须出现在文件名的末尾。                          | r$        | rock rea**r**             | rock rea  |
| `*`                | 匹配前一个元素零次或多次。                            | o*r       | d**oor**,**or**,o,l**r**  | d,,o,l    |
| `+`                | 与前一个元素匹配一次或多次。                          | o+r       | d**oor**,**or**,o,lr      | d,,o,lr   |
| `?`                | 匹配前一个元素零或一次。                              | o?r       | do**or**,**or**,o,l**r**  | do,,o,l   |
| `{`n`}`            | 与前一个元素精确匹配*n*次。                           | [or]{2}   | d**oo**r,**or**,o,lr      | dr,,o,lr  |
| `\`escape          | 将转义字符如`. `或`*`等识别为正常字符。               | \\d\\.\\d | 1\_**2\.3**\_45  | 1__45 |

## 替换模式

指定替换前后的模式。

 <kbd>新增</kbd>将添加一个新行。您可以通过单击行中的右键来删除行。要改变行的顺序，可抓住行的左边缘并拖动。

您可以通过点击右下角的按钮来选择 "Common Pattern"。

如果勾选了<kbd>規則運算式</kbd>，您可以使用正则表达式指定替换模式。

### 規則運算式

替换前的正则表达式与<kbd>删除文本</kbd>相同。

还有一些正则表达式可以在替换后使用。下面列出了一些最常见的正则表达式。更详细的解释，请参考以下链接。

[Substitutions In Regular Expressions - Microsoft Docs ](https://docs.microsoft.com/dotnet/standard/base-types/substitutions-in-regular-expressions)

| Regex  | 描述                                        | 目标文本        | 替换文本 | 输入           | 输出               |
| ------ | ------------------------------------------- | --------------- | -------- | -------------- | ------------------ |
| ` $0 `   | 在替换字符串中包含所有匹配的字符串。        | ABC             | X$0X  | abc **ABC** AnBC | abc **XABCX** AnBC |
| ` $num ` | 包括由*num*标识的捕获组匹配的最后一个子串。 | \\d\*\(\\d{3}\) | \$1      | A**0012** 34   | A**012** 34        |

### FileRenamerDiff Original Regex

这是一个本应用程序特有的規則運算式，在 "Microsoft .NET" 中找不到

| Regex | 描述                               | 输入                   | 输出                       |
| ----- | ---------------------------------- | ---------------------- | -------------------------- |
| `\u`  | 将所有文本转换为大写               | l**ow** UPP P**as**    | L**OW** UPP P**AS**        |
| `\l`  | 将所有文本转换为小写               | low **UPP** **P**as    | low **upp** **p**as        |
| `\h`  | 将所有字母和数字转换为半宽字符     | Ha14 **Ｆｕ１７**      | Ha14 **Fu17**              |
| `\f`  | 将所有字母和数字转换为全宽字符     | **Ha14** Ｆｕ１７      | **Ｈａ１４** Ｆｕ１７      |
| `\f`  | 将所有半幅片假名转换为全幅片假名。 | **ｱﾝﾊﾟﾝ ﾊﾞｲｷﾝ**        | **アンパン バイキン**      |
| `\n`  | 将umlauts转换为纯正的ascii字符。   | s**üß** **Ö**L **Ä**ra | s**uess** **OE**L **Ae**ra |

# 重命名确认

 <kbd>試執行</kbd>允许您查看文件重命名前后的情况。

文件列表中各列的描述如下。

| 栏目名称 | 显示的内容 | 功能  |
| ------------------- | ------------------------------------------------------------ | ----------------------------------------------- |
|  删除按钮 | 删除按钮 |删除该行。头部的按钮会删除所有文件。|
| 旧文件名  | 重命名前的文件名。变更后的部分会变成粉红色背景。 |    |
| 新文件名 | 重命名后的文件名。更改后的部分变成绿色背景。| |
| 复选标记 | 如有更改，则显示复选标记。| 头部的按钮只显示更改后的文件列表。|
| 重复标记 | 如果有重复的文件，会显示重复的标记。| 在文件头的按钮中，只显示重复的文件列表。 |
| 目录  | 文件所属的目录  | 点击在资源管理器中显示该文件  |
| 大小 |文件修改的日期和时间    |                                                              |
| 修改日期       | 文件修改的日期和时间                           |                                                              |
| 建立日期        | 创建文件的日期和时间 |                                                              |



# 保存重命名

<kbd>保存重命名</kbd>将重命名实际文件。如果文件列表中有重复的文件，则不能执行。

如果在执行重命名时，文件所属的目录被重写，它将从文件列表中删除。